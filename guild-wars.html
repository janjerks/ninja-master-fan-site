<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guild Wars History - Ninja Master Fan Site</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
<style>
:root {
--primary: #ff4500;
--primary-hover: #ff6600;
--gold: #ffcc00;
--dark-bg: #0a0a0a;
--nav-bg: rgba(10,10,10,0.88);
--card-bg: #111115;
--text: #e8e8e8;
--text-light: #bbbbbb;
--border: #222226;
--glow: rgba(255,69,0,0.35);
}
body { margin:0; font-family:'Roboto',sans-serif; background:var(--dark-bg); color:var(--text); line-height:1.6; }
h1,h2,h3 { font-family:'Orbitron',sans-serif; text-transform:uppercase; letter-spacing:2px; color:#fff; text-shadow:0 0 20px var(--glow); }
nav {
background:var(--nav-bg);
backdrop-filter:blur(12px);
position:fixed;
top:0;
width:100%;
z-index:1000;
padding:1rem 2rem;
box-shadow:0 4px 15px rgba(0,0,0,0.7);
display:flex;
align-items:center;
border-bottom:none;
}
.nav-logo-wrapper { margin-right:1.5rem; }
.nav-logo { height:48px; width:auto; display:block; transition:transform 0.3s; }
.nav-logo:hover { transform:scale(1.1); }
.nav-links { display:flex; align-items:center; flex-wrap:wrap; gap:1.6rem; }
.nav-link {
color:var(--gold);
text-decoration:none;
font-weight:500;
font-size:1.1rem;
position:relative;
padding-bottom:6px;
transition:color 0.3s;
}
.nav-link:hover { color:#fff; }
.nav-link.active::after {
content:'';
position:absolute;
bottom:-2px;
left:0;
width:100%;
height:3px;
background:var(--gold);
border-radius:2px;
}
main { padding-top:120px; max-width:1400px; margin:0 auto; padding:120px 2rem 4rem; }
select {
background:var(--card-bg);
color:var(--text);
border:1px solid var(--border);
padding:0.8rem 1.2rem;
font-size:1.1rem;
border-radius:8px;
margin-bottom:2rem;
cursor:pointer;
width:100%;
max-width:400px;
}
#seasonContent {
background:var(--card-bg);
border:1px solid var(--border);
border-radius:12px;
padding:2rem;
min-height:400px;
}
@media (max-width:768px) {
nav { padding:0.8rem 1rem; flex-wrap:wrap; }
.nav-links { justify-content:center; }
.nav-logo { height:50px; width:auto; }
main { padding-top:100px; }
}
</style>
</head>
<body>

<div id="nav-placeholder"></div>

<main>
<h1>Guild Wars History</h1>
<p>View complete rankings, champions, and rewards from all seasons.</p>

<select id="seasonSelect">
<option value="">Choose a Season</option>
<option value="1">Season 1</option>
<option value="2">Season 2</option>
<option value="3">Season 3</option>
<option value="4">Season 4</option>
<option value="5">Season 5</option>
<option value="6">Season 6</option>
<option value="7">Season 7</option>
<option value="8">Season 8</option>
<option value="9">Season 9</option>
<option value="10">Season 10</option>
<option value="11">Season 11</option>
<option value="12">Season 12</option>
<option value="13">Season 13</option>
</select>

<div id="seasonContent">
<p>Select a season above to view results.</p>
</div>
</main>

<div id="footer-placeholder"></div>

<script>
document.addEventListener('DOMContentLoaded', async () => {
  try {
    const navResponse = await fetch('nav.html');
    document.getElementById('nav-placeholder').innerHTML = await navResponse.text();

    const footerResponse = await fetch('footer.html');
    document.getElementById('footer-placeholder').innerHTML = await footerResponse.text();

    const currentFile = window.location.pathname.split('/').pop() || 'index.html';
    document.querySelectorAll('.nav-link').forEach(link => {
      const href = link.getAttribute('href');
      if (href.startsWith('http') || href.startsWith('//')) return;
      const targetFile = href.split('/').pop() || 'index.html';
      if (currentFile === targetFile) {
        link.classList.add('active');
      }
    });
  } catch (err) {
    console.error('Error loading shared components:', err);
  }
});

// Season loading (unchanged)
const seasonSelect = document.getElementById('seasonSelect');
const seasonContent = document.getElementById('seasonContent');

seasonSelect.addEventListener('change', async (e) => {
  const season = e.target.value;
  if (!season) {
    seasonContent.innerHTML = '<p>Select a season above to view results.</p>';
    return;
  }

  seasonContent.innerHTML = '<p>Loading Season ' + season + '...</p>';

  try {
    const timestamp = new Date().getTime();
    const response = await fetch(`seasons/season${season}.html?t=${timestamp}`);
    if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
    const html = await response.text();
    seasonContent.innerHTML = html;
  } catch (err) {
    console.error('Season load error:', err);
    seasonContent.innerHTML = '<p style="color:#ff4500;">Error loading season. Please check if season' + season + '.html exists.</p>';
  }
});
</script>

</body>
</html>