<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guild War Results & Rewards – Ninja Master Fan Site</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav>
        <a href="index.html">Home</a>
        <a href="https://play.google.com/store/apps/details?id=com.BitEasyInteractive.NinjaMaster" target="_blank">Play</a>
        <a href="https://www.facebook.com/profile.php?id=100083121342903" target="_blank">News</a>
        <a href="https://www.facebook.com/groups/ninjamasterashinobisaga" target="_blank">Community</a>
        <a href="guild-wars.html">Guild War Results and Rewards</a>
        <a href="https://nm-kekkai-solver.netlify.app/" target="_blank">Kekkai Solver and Simulator</a>
        <a href="https://nm-stats-simulator.vercel.app/" target="_blank">Stats Simulator</a>
        <a href="https://ninjamaster.rpg-board.net/f3-guides" target="_blank">Guides</a>
        <a href="https://ninjamaster.rpg-board.net/" target="_blank">Forum</a>
        <a href="https://ninjamaster.rpg-board.net/f5-support-questions" target="_blank">Support</a>
    </nav>

    <div class="hero">
        <h1>Guild War Results & Rewards</h1>
        <p>View historical guild rankings, winners, and rewards for each season. Select a season below.</p>
    </div>

    <div class="container">
        <div class="section">
            <h2>Select Season</h2>
            <select id="seasonSelect" onchange="loadSeason()">
                <option value="">Choose a Season</option>
                <option value="1">Season 1</option>
                <option value="2">Season 2</option>
                <option value="3">Season 3</option>
                <option value="4">Season 4</option>
                <option value="5">Season 5</option>
                <option value="6">Season 6</option>
                <option value="7">Season 7</option>
                <option value="8">Season 8</option>
                <option value="9">Season 9</option>
                <option value="10">Season 10</option>
                <option value="11">Season 11</option>
                <option value="12">Season 12</option>
                <option value="13">Season 13</option>
                <!-- To add Season 14+ later, just insert lines like this: -->
                <!-- <option value="14">Season 14</option> -->
            </select>

            <p id="placeholder" style="margin-top: 2rem; color: #aaa;">
                Select a season above to view rankings and rewards.
            </p>

            <div id="seasonContent" style="margin-top: 1rem; min-height: 400px;"></div>
        </div>
    </div>

    <footer>
        <p>Fan-made site for Ninja Master: A Shinobi Saga | Not official | © 2026 John</p>
    </footer>

    <script>
        async function loadSeason() {
            const select = document.getElementById('seasonSelect');
            const contentDiv = document.getElementById('seasonContent');
            const placeholder = document.getElementById('placeholder');
            const season = select.value;

            if (!season) {
                placeholder.style.display = 'block';
                contentDiv.innerHTML = '';
                return;
            }

            placeholder.style.display = 'none';
            contentDiv.innerHTML = '<p style="color: #ffcc00;">Loading Season ' + season + '...</p>';

            try {
                // Aggressive cache-busting to ensure fresh content every time
                const cacheBuster = Date.now() + Math.random();
                const response = await fetch(`seasons/season${season}.html?cb=${cacheBuster}`, {
                    cache: 'no-store',
                    headers: {
                        'Cache-Control': 'no-cache, no-store, must-revalidate',
                        'Pragma': 'no-cache',
                        'Expires': '0'
                    }
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const html = await response.text();
                contentDiv.innerHTML = html;
            } catch (error) {
                contentDiv.innerHTML = `<p style="color: #ff6347;">Error loading Season ${season}: ${error.message}.<br>Make sure seasons/season${season}.html exists.</p>`;
            }
        }
    </script>
</body>
</html>
